import{a as m,j as e,B as i,T as t,u as p,b as d,f as c,G as x,t as b,e as j,C as f,D as v}from"./index-9KGOSi0w.js";import{B as y}from"./ButtonCard-w_FVE4Tm.js";import{d as D}from"./AddCircleOutline-1ms1wKbP.js";import{S}from"./SummaryColumn-KzrfFaJ-.js";const W=({name:r})=>{const s=m();return e.jsxs(i,{name:"Header",sx:{backgroundColor:"background.lightGrey",padding:4,borderRadius:5},children:[e.jsxs(t,{variant:"h4",fontWeight:"bold",sx:{color:s.typography.primary.main},children:["Welcome back, ",r,"!"," "]}),e.jsx(t,{variant:"subtitle2",mt:1,sx:{color:s.typography.primary.subtitle},children:"Here is a quick overview of your activity since your last visit."})]})},h=({location:r,title:s,...a})=>{const o=p(),n=()=>{o(r)};return e.jsxs(y,{sx:{mt:4,mb:4,maxWidth:{xs:"100%",md:"500px"},height:"250px",backgroundColor:"background.lightGrey",boxShadow:"none",border:"3px dashed #2A2A2A","&:hover":{backgroundColor:"background.lightGrey","@media (hover: none)":{backgroundColor:"initial"}}},onClick:n,children:[e.jsx(t,{variant:"h6",color:"text.main",fontWeight:"bold",pt:2,children:s}),e.jsx(t,{variant:"h6",pt:2,pb:2,children:a.subtitle||"No Data Found"}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem",pb:4},children:[e.jsx(D,{}),e.jsx(t,{variant:"body1",children:"Click here to Get Started"})]})]})},k=({user:r})=>{const s=JSON.parse(localStorage.getItem("gardens")||"[]").filter(n=>n.userID===r.id),a=JSON.parse(localStorage.getItem("gardenGroups")||"[]").filter(n=>n.userID===r.id),o=JSON.parse(localStorage.getItem("gardenPlants")||"[]").filter(n=>n.userID===r.id);return e.jsx(e.Fragment,{children:s.length!=0?e.jsxs(d,{variant:"light",sx:{mt:4,p:2,borderRadius:4,width:{xs:"100%",md:"80%"},maxWidth:"500px"},children:[e.jsx(t,{variant:"h6",color:"text.main",fontWeight:"bold",children:"Garden Overview"}),e.jsx(t,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:"Here is a quick snapshot of your gardens"}),e.jsx(i,{sx:{pt:4,pb:4},children:e.jsxs(t,{variant:"body2",color:"text.textDark",fontWeight:"bold",children:["You are currently managing ",s.length," garden",s.length>1?"s":"",e.jsx("br",{}),"( ",e.jsx(t,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:s.map((n,l)=>e.jsxs(t,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:[n.gardenName,l<s.length-1?", ":""]},l))})," )"]})}),e.jsxs(i,{sx:{pb:4},children:[e.jsxs(t,{variant:"body2",color:"text.main",fontWeight:"bold",children:["Here is what you have growing:"," ",e.jsxs(t,{variant:"span",color:"text.subtitle",fontWeight:"bold",children:["(",o.length," Plant",o.length>1?"s":""," )"]})]}),o.map((n,l)=>{const u=a.find(g=>g.groupID===n.groupID);return e.jsxs(t,{variant:"subtitle2",color:"text.textDark",fontWeight:"bold",pt:1,pl:10,textAlign:"left",children:[n.name," ",n.variant&&"("+n.variant+")"," -"," ",e.jsx(t,{component:"span",variant:"caption",color:"text.subtitle",fontWeight:"bold",children:u.groupName})]},l)})]})]}):e.jsx(h,{location:"/gardens",title:"Garden Overview",subtitle:"No gardens Found"})})},I=({device:r})=>{const{getSensorInfo:s}=b(),[a,o]=c.useState([]);return c.useEffect(()=>{async function n(){const l=await s(r);o(l)}n()},[r]),e.jsxs(d,{variant:"light",sx:{p:2,mt:2,borderRadius:4},children:[e.jsxs(i,{children:[e.jsx(t,{variant:"h6",color:"text.main",fontWeight:"bold",children:r.deviceName}),e.jsx(t,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:r.deviceID})]}),a.length>0?e.jsx(x,{container:!0,pt:4,children:a.map((n,l)=>e.jsx(x,{item:!0,xs:6,sm:4,md:12,lg:6,p:1,children:e.jsxs(i,{sx:{backgroundColor:"background.shaded",padding:"0.5em"},children:[e.jsx(t,{variant:"body1",color:"text.cardTitle",fontWeight:"bold",children:n.sensor}),e.jsx(t,{variant:"caption",color:n.sensorStatus==="Online"?"success.main":"error.main",fontWeight:"bold",children:n.sensorStatus})]})},l))}):e.jsx(t,{variant:"body1",color:"text.textDark",pt:2,children:"No sensors found"})]},r.deviceID)},w=({user:r,hasDevice:s,devices:a})=>e.jsx(e.Fragment,{children:s?e.jsxs(d,{variant:"light",sx:{m:4,p:2,borderRadius:4,width:{xs:"100%",md:"80%"}},children:[e.jsx(t,{variant:"h6",color:"text.main",fontWeight:"bold",children:"Sensor Overview"}),e.jsx(t,{variant:"caption",color:"text.subtitle",fontWeight:"bold",children:"Here is a quick snapshot of your devices"}),e.jsx(i,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:a.map(o=>e.jsx(I,{device:o},o.deviceID))})]}):e.jsx(h,{title:"No Sensors Found",subtitle:"No sensors have been added to your account yet.",location:"/sensor"})}),F=()=>{const{user:r,hasDevice:s,devices:a}=j(),o=r.name.split(" ")[0];return e.jsxs(f,{maxWidth:"none",sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingTop:4},children:[e.jsxs(i,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,width:s?{xs:"100%",md:"70%"}:"100%"},children:[e.jsx(W,{name:o}),e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-evenly",alignItems:{xs:"center",md:"flex-start"},gap:4,width:"100%"},children:[e.jsx(k,{user:r}),e.jsx(w,{user:r,hasDevice:s,devices:a})]})]}),s&&e.jsxs(i,{sx:{width:"30%",display:{xs:"none",md:"flex"},gap:2},children:[e.jsx(v,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",md:"block"}}}),e.jsx(S,{})]})]})};export{F as default};
