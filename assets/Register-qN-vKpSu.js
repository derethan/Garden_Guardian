import{j as e,B as n,T as i,u as c,a as v,e as p,o as w,c as y}from"./index-VN1m0e2F.js";import{u as N}from"./useValidate-PJ4JLM6-.js";import{T as o}from"./TextField-GK5INAf-.js";import{L as C}from"./LoginLink-gIdPK8sB.js";import{a as P,C as T}from"./Container-ib34-IVw.js";import{B as k}from"./Button-hRa9C4No.js";import{L as F}from"./LandingSiteNav-whYlBiyt.js";import"./Select-zUlpuCKS.js";const L=({formData:t,formErrors:a,handleChange:s})=>e.jsx(e.Fragment,{children:e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2,padding:2},children:[e.jsx(o,{required:!0,label:"First Name",name:"firstName",id:"firstName",variant:"outlined",size:"small",sx:{backgroundColor:"background.default"},value:t.firstName,onChange:s,error:!!a.firstName,helperText:a.firstName}),e.jsx(o,{required:!0,label:"Last Name",name:"lastName",id:"lastName",variant:"outlined",size:"small",sx:{backgroundColor:"background.default"},value:t.lastName,onChange:s,error:!!a.lastName,helperText:a.lastName}),e.jsx(o,{label:"Email",type:"email",name:"email",id:"email",variant:"outlined",size:"small",sx:{backgroundColor:"background.default"},value:t.email,onChange:s,error:!!a.email,helperText:a.email})]})}),R=({formData:t,formErrors:a,handleChange:s})=>e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"subtitle1",color:"text.card",children:"Password Details"}),e.jsxs(n,{sx:{display:"flex",gap:2,padding:2},children:[e.jsx(o,{label:"Password",type:"password",name:"password",id:"password",variant:"outlined",size:"small",sx:{backgroundColor:"background.default"},value:t.password,onChange:s,error:!!a.password,helperText:a.password}),e.jsx(o,{label:"Confirm Password",type:"password",name:"confirmPassword",id:"confirmPassword",variant:"outlined",size:"small",sx:{backgroundColor:"background.default"},value:t.confirmPassword,onChange:s,error:!!a.confirmPassword,helperText:a.confirmPassword})]})]}),z=()=>{const t=c(),a=v(),[s,l]=p.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[d,x]=N(s),[g,f,,h,j]=w(),m=r=>{l({...s,[r.target.name]:r.target.value}),r.target.name==="email"&&h("")},b=async r=>{if(r.preventDefault(),x()){const u=await j("http://24.137.88.137:3000/"+"users/register",s);u&&(console.log("register status: ",u),l({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),t("/login"))}else console.log("Form is invalid")};return e.jsxs(P,{variant:"light",sx:{padding:2,margin:2},children:[e.jsx(i,{variant:"h4",color:a.typography.primary.cardTitle,sx:{fontWeight:600},children:"Create Account"}),e.jsx(i,{variant:"subtitle2",color:a.typography.primary.subtitle,sx:{paddingTop:"8px"},children:"Enter your details to create an account"}),e.jsxs(n,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:b,children:[e.jsx(L,{formData:s,formErrors:d,handleChange:m}),g===409&&e.jsx(i,{variant:"body1",color:"error",children:f}),e.jsx(R,{formData:s,formErrors:d,handleChange:m}),e.jsx(n,{children:e.jsx(k,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},children:"Register Account"})}),e.jsx(C,{})]})]})},S=z;function $(){const t=y(),a=c();return p.useEffect(()=>{t.isLoggedIn&&a("/dashboard")},[]),e.jsxs(e.Fragment,{children:[" ",e.jsx(F,{}),e.jsx(T,{maxWidth:"sm",sx:{paddingTop:4},children:e.jsx(S,{})})]})}export{$ as default};
